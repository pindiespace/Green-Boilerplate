/**
 * GBP debugging console object, based on
 * http://www.paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
 */
window.log = function(){
		
	var USE_ALERT = 1, USE_POPPUP = 2, USE_EDIT_FIELD = 3,USE_NOTHING = 4;
		
	var method = USE_POPPUP;
		
	log.history = log.history || [];   // store logs to an array for reference
	log.history.push(arguments);
		
	//use Console object
		
	if(this.console){
		console.log( Array.prototype.slice.call(arguments));
	} 
	else {
		//choose an alternate method for display
		
		switch (method) {
			case USE_ALERT:
				alert(Array.prototype.slice.call(arguments));
				break;
			case USE_POPPUP:
				var GBPConsoleWindow = window.open("","GBPConsoleWindow","height=300,width=400,scrollbars=1,resizable=1,menubar=no,status=no");
				if (GBPConsoleWindow) {
					GBPConsoleWindow.document.write('<pre>');
					GBPConsoleWindow.document.write(Array.prototype.slice.call(arguments));
					GBPConsoleWindow.document.write('</pre>');
				}
				break;
			case USE_EDIT_FIELD:
				document.write('<form method="post" action="#"><textarea rows="2" cols="80">');
				document.write(Array.prototype.slice.call(arguments));
				document.write('</textarea></form></body>');			
				break;
			case USE_NOTHING:
				//we have to examine window.log array manually
				break;
			default:
				break;
		}
	} //end of don't use Console object
};

